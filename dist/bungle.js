(()=>{"use strict";var e,t,o,n,a,r,c,l,u,i,s,m,v;s=document.querySelector("#timer-hours"),m=document.querySelector("#timer-minutes"),v=document.querySelector("#timer-seconds"),function e(){var t,o,n,a=(t=(new Date("15 apr 2021").getTime()-(new Date).getTime())/1e3,o=Math.floor(t%60),n=Math.floor(t/60%60),{timeRemaining:t,hours:Math.floor(t/60/60),minutes:n,seconds:o});s.textContent=a.hours<10?"0"+a.hours:a.hours,m.textContent=a.minutes<10?"0"+a.minutes:a.minutes,v.textContent=a.seconds<10?"0"+a.seconds:a.seconds,a.timeRemaining>0?setTimeout(e,1e3):(s.textContent="00",m.textContent="00",v.textContent="00")}(),u=document.querySelector(".menu"),i=document.querySelector("menu"),u.addEventListener("click",(function(){return i.classList.add("active-menu")})),i.addEventListener("click",(function(e){var t=e.target;(t.classList.contains("close-btn")||"A"===t.tagName)&&i.classList.toggle("active-menu")})),l=document.querySelector(".popup"),document.querySelectorAll(".popup-btn").forEach((function(e){e.addEventListener("click",(function(){var e,t,o,n,a;l.style.display="block",screen.width>768&&(t=(e={duration:500,timing:function(e){return e},draw:function(e){l.style.opacity=1*e}}).timing,o=e.draw,n=e.duration,a=performance.now(),requestAnimationFrame((function e(r){var c=(r-a)/n;c>1&&(c=1);var l=t(c);o(l),c<1&&requestAnimationFrame(e)})))}))})),l.addEventListener("click",(function(e){var t=e.target;t.classList.contains("popup-close")?l.style.display="none":(t=t.closest(".popup-content"))||(l.style.display="none")})),a=document.querySelector(".service-header"),r=a.querySelectorAll(".service-header-tab"),c=document.querySelectorAll(".service-tab"),a.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".service-header-tab"))&&r.forEach((function(e,o){e===t&&function(e){for(var t=0;t<c.length;t++)e===t?(r[t].classList.add("active"),c[t].classList.remove("d-none")):(r[t].classList.remove("active"),c[t].classList.add("d-none"))}(o)}))})),function(){var e,t=document.querySelector(".portfolio-content"),o=t.querySelectorAll(".portfolio-item"),n=t.querySelector(".portfolio-dots"),a=0;o.forEach((function(){n.innerHTML+='<li class="dot"></li>'}));var r=n.querySelectorAll(".dot"),c=function(e,t,o){e[t].classList.remove(o)},l=function(e,t,o){e[t].classList.add(o)},u=function(){c(o,a,"portfolio-item-active"),c(r,a,"dot-active"),++a>=o.length&&(a=0),l(o,a,"portfolio-item-active"),l(r,a,"dot-active")},i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;e=setInterval(u,t)};t.addEventListener("click",(function(e){e.preventDefault();var t=e.target;t.matches(".portfolio-btn, .dot")&&(c(o,a,"portfolio-item-active"),c(r,a,"dot-active"),t.matches("#arrow-right")?a++:t.matches("#arrow-left")?a--:t.matches(".dot")&&r.forEach((function(e,o){e===t&&(a=o)})),a>=o.length?a=0:a<0&&(a=o.length-1),l(o,a,"portfolio-item-active"),l(r,a,"dot-active"))})),t.addEventListener("mouseover",(function(t){var o=t.target;(o.matches(".portfolio-btn")||o.matches(".dot"))&&clearInterval(e)})),t.addEventListener("mouseout",(function(e){var t=e.target;(t.matches(".portfolio-btn")||t.matches(".dot"))&&i()})),i(2e4)}(),document.querySelectorAll("#command .row img").forEach((function(e){e.addEventListener("mouseenter",(function(e){var t=e.target;n=t.src,t.src=t.getAttribute("data-img")})),e.addEventListener("mouseout",(function(e){e.target.src=n}))})),function(){var e=document.getElementById("calc"),t=document.querySelector(".main-form"),o=document.querySelector(".popup"),n=document.querySelector(".connect");e.addEventListener("input",(function(e){var t=e.target;t.matches("input")&&(t.value=t.value.replace(/\D/,""))}));var a=function(e){var t=e.target,o=[];t.closest(".form-name")?(t.value=t.value.replace(/[\-]+/,"-"),t.value.split(/[\s,\-]+/).forEach((function(e){o.push(e.slice(0,1).toUpperCase()+e.substring(1).toLowerCase())})),o=o.join(" "),t.value=o):t.closest("form-email")&&t.value.trim()};n.addEventListener("input",(function(e){var t=e.target;t.closest("#form2-name, #form2-message")?t.value=t.value.replace(/[^а-яА-Я1-9\,\.\?\! ]/,""):t.closest("#form2-email")?(t.value=t.value.replace(/ +/,""),t.value=t.value.replace(/[^a-zA-Z\@\_\-\~\.\!\*]/,"")):t.closest("#form2-phone")&&(t.value=t.value.replace(/[^1-9\+{1}]/,""))})),n.addEventListener("focusout",(function(e){var t=e.target,o=[];t.closest("#form2-name")?(t.value=t.value.replace(/[\-]+/,"-"),t.value.split(/[\s,\-]+/).forEach((function(e){o.push(e[0].toUpperCase()+e.substring(1).toLowerCase())})),o=o.join(" "),t.value=o):t.closest("#form2-email")&&t.value.trim()})),t.addEventListener("input",(function(e){var t=e.target;if(t===t.closest(".form-name"))t.value=t.value.replace(/[^а-яА-Я -]/,"");else if(t===t.closest(".form-email"))t.value=t.value.replace(/ +/,""),t.value=t.value.replace(/[^a-zA-Z\@\_\-\~\.\!\*]/,"");else{if(t!==t.closest(".form-phone"))return;t.value=t.value.replace(/[^1-9\+{1}]/,"")}})),t.addEventListener("focusout",a),o.addEventListener("input",(function(e){var t=e.target;if(t===t.closest(".form-name"))t.value=t.value.replace(/[^а-яА-Я -]/,"");else if(t===t.closest(".form-email"))t.value=t.value.replace(/ +/,""),t.value=t.value.replace(/[^a-zA-Z\@\_\-\~\.\!\*]/,"");else{if(t!==t.closest(".form-phone"))return;t.value=t.value.replace(/[^1-9\+{1}]/,"")}})),o.addEventListener("focusout",a)}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=document.querySelector(".calc-block"),o=document.querySelector(".calc-type"),n=document.querySelector(".calc-square"),a=document.querySelector(".calc-day"),r=document.querySelector(".calc-count"),c=document.getElementById("total"),l=function(){var t=0,l=1,u=1,i=Math.floor(o.options[o.selectedIndex].value),s=+n.value;r.value>1&&(l+=(r.value-1)/10),a.value&&a.value<5?u*=2:a.value&&a.value<10&&(u*=1.5),i&&s&&(t=e*i*s*l*u),c.textContent=t};t.addEventListener("change",(function(e){var t=e.target;(t.matches("select")||t.matches("input"))&&l()}))}(100),e={},t=document.querySelectorAll("form"),(o=document.createElement("div")).style.cssText="font-size: 2rem; color: red;",t.forEach((function(n){n.addEventListener("submit",(function(a){a.preventDefault(),o.textContent="Загрузка",n.appendChild(o),new FormData(n).forEach((function(t,o){e[o]=t})),function(e){return fetch("./server.php",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(e)})}(e).then((function(e){if(200!==e.status)throw new Error;o.textContent="Спасибо! Мы скоро с вами свяжемся",t.forEach((function(e){e.reset()})),setTimeout((function(){n.matches("#form3")&&(document.querySelector(".popup").style.display="none"),o.textContent=""}),3500)})).catch((function(){o.textContent="Что то пошло не так..."}))}))})),console.log(1)})();