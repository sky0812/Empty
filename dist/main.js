(()=>{"use strict";(()=>{const e=document.querySelector(".modal-callback"),t=document.querySelector(".modal-overlay");document.body.addEventListener("click",(l=>{let s=l.target;s.closest('.callback-btn, .button-services, [href="#application"]')?(l.preventDefault(),e.style.display="block",t.style.display="block"):(s.closest(".modal-close")||s.closest(".modal-overlay"))&&(e.style.display="none",t.style.display="none")}))})(),(()=>{const e=document.querySelector(".up");document.querySelector("#services"),e.addEventListener("click",(()=>{const e=document.querySelector("body").getBoundingClientRect().top;window.scrollBy({top:e,behavior:"smooth"})})),window.addEventListener("scroll",(()=>{window.pageYOffset>=666?e.style.display="block":e.style.display="none"}))})(),document.querySelector(".modal-callback").addEventListener("input",(e=>{const t=e.target;t.closest(".form_name")?t.value=t.value.replace(/[^а-яА-Я\,\.\?\! ]/,""):t.closest(".form_phone")&&(t.value=t.value.replace(/[^1-9\+{1}]/,""))})),(()=>{const e="Спасибо! Мы скоро с Вами свяжемся!",t=(document.getElementsByName("fio")[0],document.getElementsByName("tel")[0],document.getElementsByName("form-callback")[0]),l=document.getElementById("callback"),s=document.querySelector(".modal-overlay"),n=document.createElement("div");n.style.cssText="font-size: 2rem;",t.addEventListener("submit",(c=>{c.preventDefault(),t.appendChild(n),n.style.cssText="color: #000000;",n.textContent="Загрузка... ";const a=new FormData(t);let r={};a.forEach(((e,t)=>{r[t]=e})),o(r,(()=>{n.textContent=e}),(e=>{n.textContent="Что то пошло не так!"}));let i=0;const d=setInterval((()=>{i++,i>=3&&(n.textContent=e),i>=5&&(clearInterval(d),n.textContent="",l.style.cssText="display:none;",s.style.cssText="display:none;")}),1e3);t.reset()}));const o=t=>new Promise(((l,s)=>{const o=new XMLHttpRequest;o.addEventListener("readystatechange",(()=>{4===o.readyState&&(200===o.status?l(n.textContent=e):s(o.status))})),o.open("POST","server.php"),o.setRequestHeader("Content-Type","application/json"),o.send(JSON.stringify(t))}))})(),(()=>{const e=document.querySelectorAll(".accordeon .element .title"),t=document.querySelectorAll(".accordeon .element");e.forEach((e=>{e.addEventListener("click",(({target:l})=>{const s=l.parentNode;e.nextElementSibling.style.display="block",s.classList.contains("active")?(s.classList.remove("active"),e.nextElementSibling.style.display="none"):(t.forEach((t=>{t.classList.remove("active"),e.nextElementSibling.style.display="none",t.children[1].style.display="none"})),s.classList.add("active"),e.nextElementSibling.style.display="block")}))}))})(),(()=>{const e=document.querySelector(".top-slider"),t=e.querySelectorAll(".item"),l=(e.querySelectorAll(".table"),document.createElement("ul"));let s;l.classList.add("dots_wrapper"),e.appendChild(l);let n=0;for(let e=0;e<t.length;e++)s=document.createElement("li"),s.classList.add("dot"),l.appendChild(s);const o=l.querySelectorAll(".dot"),c=(e,t,l)=>{e[t].classList.remove(l)},a=(e,t,l)=>{e[t].classList.add(l)};a(o,n,"active");e.addEventListener("click",(({target:e})=>{c(t,n,"active"),c(o,n,"active"),t[n].style.height="0",e.matches(".dot")&&o.forEach(((t,l)=>{t===e&&(n=l)})),a(t,n,"active"),a(o,n,"active"),t[n].style.height="600px"})),setInterval((()=>{c(t,n,"active"),c(o,n,"active"),t[n].style.height="0",n++,n>=t.length&&(n=0),a(t,n,"active"),a(o,n,"active"),t[n].style.height="600px"}),3e3)})(),(()=>{const e=document.querySelector(".services-carousel"),t=[...e.children],l=document.querySelector(".services-arrow");let s=0;e.style.display="flex",t.forEach((e=>{e.style.flex="0 0 33%"})),l.addEventListener("click",(l=>{const n=l.target;if(n.matches(".arrow-right")){if(s===-(t.length-3))return;--s,e.style.transform=`translateX(${t[0].offsetWidth*s}px)`}else{if(!n.matches(".arrow-left"))return;if(0===s)return;++s,e.style.transform=`translateX(${t[0].offsetWidth*s}px)`}}))})()})();