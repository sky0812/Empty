(()=>{"use strict";(()=>{const e=document.querySelector(".modal-callback"),t=document.querySelector(".modal-overlay");document.body.addEventListener("click",(l=>{let n=l.target;n.closest('.callback-btn, .button-services, [href="#application"]')?(l.preventDefault(),e.style.display="block",t.style.display="block"):(n.closest(".modal-close")||n.closest(".modal-overlay"))&&(e.style.display="none",t.style.display="none")}))})(),(()=>{const e=document.querySelector(".up");document.querySelector("#services"),e.addEventListener("click",(()=>{const e=document.querySelector("body").getBoundingClientRect().top;window.scrollBy({top:e,behavior:"smooth"})})),window.addEventListener("scroll",(()=>{window.pageYOffset>=666?e.style.display="block":e.style.display="none"}))})(),document.querySelector(".modal-callback").addEventListener("input",(e=>{const t=e.target;t.closest(".form_name")?t.value=t.value.replace(/[^а-яА-Я\,\.\?\! ]/,""):t.closest(".form_phone")&&(t.value=t.value.replace(/[^1-9\+{1}]/,""))})),(()=>{const e="Спасибо! Мы скоро с Вами свяжемся!",t=(document.getElementsByName("fio")[0],document.getElementsByName("tel")[0]),l=document.getElementsByName("form-callback")[0],n=document.getElementById("callback"),s=document.querySelector(".modal-overlay"),o=(document.querySelector(".submit_btn"),document.createElement("div"));o.style.cssText="font-size: 2rem;",l.addEventListener("submit",(a=>{if(a.preventDefault(),12!==t.value.length)return void alert("Должно быть 12 знаков");l.appendChild(o),o.style.cssText="color: #000000;",o.textContent="Загрузка... ";const r=new FormData(l);let i={};r.forEach(((e,t)=>{i[t]=e})),c(i,(()=>{o.textContent=e}),(e=>{o.textContent="Что то пошло не так!"}));let d=0;const y=setInterval((()=>{d++,d>=3&&(o.textContent=e),d>=5&&(clearInterval(y),o.textContent="",n.style.cssText="display:none;",s.style.cssText="display:none;")}),1e3);l.reset()}));const c=t=>new Promise(((l,n)=>{const s=new XMLHttpRequest;s.addEventListener("readystatechange",(()=>{4===s.readyState&&(200===s.status?l(o.textContent=e):n(s.status))})),s.open("POST","server.php"),s.setRequestHeader("Content-Type","application/json"),s.send(JSON.stringify(t))}))})(),(()=>{const e=document.querySelectorAll(".accordeon .element .title"),t=document.querySelectorAll(".accordeon .element");e.forEach((e=>{e.addEventListener("click",(({target:l})=>{const n=l.parentNode;e.nextElementSibling.style.display="block",n.classList.contains("active")?(n.classList.remove("active"),e.nextElementSibling.style.display="none"):(t.forEach((t=>{t.classList.remove("active"),e.nextElementSibling.style.display="none",t.children[1].style.display="none"})),n.classList.add("active"),e.nextElementSibling.style.display="block")}))}))})(),(()=>{const e=document.querySelector(".top-slider"),t=e.querySelectorAll(".item"),l=(e.querySelectorAll(".table"),document.createElement("ul"));let n;l.classList.add("dots_wrapper"),e.appendChild(l);let s=0;for(let e=0;e<t.length;e++)n=document.createElement("li"),n.classList.add("dot"),l.appendChild(n);const o=l.querySelectorAll(".dot"),c=(e,t,l)=>{e[t].classList.remove(l)},a=(e,t,l)=>{e[t].classList.add(l)};a(o,s,"active");e.addEventListener("click",(({target:e})=>{c(t,s,"active"),c(o,s,"active"),t[s].style.height="0",e.matches(".dot")&&o.forEach(((t,l)=>{t===e&&(s=l)})),a(t,s,"active"),a(o,s,"active"),t[s].style.height="600px"})),setInterval((()=>{c(t,s,"active"),c(o,s,"active"),t[s].style.height="0",s++,s>=t.length&&(s=0),a(t,s,"active"),a(o,s,"active"),t[s].style.height="600px"}),3e3)})(),(()=>{const e=document.querySelector(".services-carousel"),t=[...e.children],l=document.querySelector(".services-arrow");let n=0;e.style.display="flex",t.forEach((e=>{e.style.flex="0 0 33%"})),l.addEventListener("click",(l=>{const s=l.target;if(s.matches(".arrow-right")){if(n===-(t.length-3))return;--n,e.style.transform=`translateX(${t[0].offsetWidth*n}px)`}else{if(!s.matches(".arrow-left"))return;if(0===n)return;++n,e.style.transform=`translateX(${t[0].offsetWidth*n}px)`}}))})()})();